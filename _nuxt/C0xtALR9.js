import{R as y,V as Z,S as B,U as F,W as p,X as _t,Y as _,Z as kt,$ as it,a0 as w,a1 as L,a2 as A,a3 as u,a4 as Et,a5 as Mt,a6 as Rt,a7 as Pt,a8 as E,a9 as z,aa as k,ab as q,ac as v,ad as M,ae as It,af as W,ag as G,ah as Tt,ai as O,aj as et,ak as st,al as At,am as Ft,an as $,ao as R,ap as qt,aq as $t,ar as nt,as as Bt,at as Lt,au as Ut}from"./M4CVyoYZ.js";import{E as Vt,l as Gt}from"./aF8uL4hk.js";import"./BkOodu1q.js";class Wt{constructor(){this.radius=0,this.mass=0}load(t){y(t)||(t.mass!==void 0&&(this.mass=t.mass),t.radius!==void 0&&(this.radius=t.radius))}}class Ht extends Z{constructor(){super(),this.density=5,this.value=50,this.limit=new Wt}load(t){y(t)||(super.load(t),t.density!==void 0&&(this.density=t.density),B(t.limit)?this.limit.radius=t.limit:this.limit.load(t.limit))}}class H{constructor(){this.color=new F,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new Ht}load(t){y(t)||(t.color!==void 0&&(this.color=F.create(this.color,t.color)),t.draggable!==void 0&&(this.draggable=t.draggable),this.name=t.name,t.opacity!==void 0&&(this.opacity=t.opacity),t.position!==void 0&&(this.position={},t.position.x!==void 0&&(this.position.x=p(t.position.x)),t.position.y!==void 0&&(this.position.y=p(t.position.y))),t.size!==void 0&&this.size.load(t.size),t.destroy!==void 0&&(this.destroy=t.destroy),t.orbits!==void 0&&(this.orbits=t.orbits))}}var X;(function(s){s.absorber="absorber"})(X||(X={}));const Xt=2,jt=.033,Yt=0,Zt=0,Jt=0,ot={x:0,y:0},Kt=0,Qt=2,rt=Math.PI*Qt,at=0;class Nt{constructor(t,e,i,n,o){var l;this._calcPosition=()=>{const r=_t({size:this._container.canvas.size,position:this.options.position});return _.create(r.x,r.y)},this._updateParticlePosition=(r,h)=>{if(r.destroyed)return;const d=this._container,c=d.canvas.size;if(r.needsNewPosition){const f=kt({size:c});r.position.setTo(f),r.velocity.setTo(r.initialVelocity),r.absorberOrbit=void 0,r.needsNewPosition=!1}if(this.options.orbits){if(r.absorberOrbit===void 0&&(r.absorberOrbit=_.origin,r.absorberOrbit.length=it(r.getPosition(),this.position),r.absorberOrbit.angle=w()*rt),r.absorberOrbit.length<=this.size&&!this.options.destroy){const S=Math.min(c.width,c.height),J=1,K=.1,Q=.2;r.absorberOrbit.length=S*(J+(w()*Q-K))}r.absorberOrbitDirection===void 0&&(r.absorberOrbitDirection=r.velocity.x>=at?L.clockwise:L.counterClockwise);const f=r.absorberOrbit.length,b=r.absorberOrbit.angle,m=r.absorberOrbitDirection;r.velocity.setTo(_.origin);const g={x:m===L.clockwise?Math.cos:Math.sin,y:m===L.clockwise?Math.sin:Math.cos};r.position.x=this.position.x+f*g.x(b),r.position.y=this.position.y+f*g.y(b),r.absorberOrbit.length-=h.length,r.absorberOrbit.angle+=(r.retina.moveSpeed??at)*d.retina.pixelRatio/A*d.retina.reduceFactor}else{const f=_.origin;f.length=h.length,f.angle=h.angle,r.velocity.addTo(f)}},this._absorbers=t,this._container=e,this._engine=i,this.initialPosition=o?_.create(o.x,o.y):void 0,n instanceof H?this.options=n:(this.options=new H,this.options.load(n)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=u(this.options.size.value)*e.retina.pixelRatio,this.mass=this.size*this.options.size.density*e.retina.reduceFactor;const a=this.options.size.limit;this.limit={radius:a.radius*e.retina.pixelRatio*e.retina.reduceFactor,mass:a.mass},this.color=Et(this._engine,this.options.color)??{b:0,g:0,r:0},this.position=((l=this.initialPosition)==null?void 0:l.copy())??this._calcPosition()}attract(t){const e=this._container,i=this.options;if(i.draggable){const h=e.interactivity.mouse;h.clicking&&h.downPosition?it(this.position,h.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&h.position&&(this.position.x=h.position.x,this.position.y=h.position.y)}const n=t.getPosition(),{dx:o,dy:a,distance:l}=Mt(this.position,n),r=_.create(o,a);if(r.length=this.mass/Math.pow(l,Xt)*e.retina.reduceFactor,l<this.size+t.getRadius()){const h=t.getRadius()*jt*e.retina.pixelRatio;this.size>t.getRadius()&&l<this.size-t.getRadius()||t.absorberOrbit!==void 0&&t.absorberOrbit.length<Yt?i.destroy?t.destroy():(t.needsNewPosition=!0,this._updateParticlePosition(t,r)):(i.destroy&&(t.size.value-=h),this._updateParticlePosition(t,r)),(this.limit.radius<=Zt||this.size<this.limit.radius)&&(this.size+=h),(this.limit.mass<=Jt||this.mass<this.limit.mass)&&(this.mass+=h*this.options.size.density*e.retina.reduceFactor)}else this._updateParticlePosition(t,r)}draw(t){t.translate(this.position.x,this.position.y),t.beginPath(),t.arc(ot.x,ot.y,this.size,Kt,rt,!1),t.closePath(),t.fillStyle=Rt(this.color,this.opacity),t.fill()}resize(){const t=this.initialPosition;this.position=t&&Pt(t,this._container.canvas.size,_.origin)?t:this._calcPosition()}}const lt=0;class te{constructor(t,e){this._container=t,this._engine=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],t.getAbsorber=i=>i===void 0||B(i)?this.array[i??lt]:this.array.find(n=>n.name===i),t.addAbsorber=async(i,n)=>this.addAbsorber(i,n)}async addAbsorber(t,e){const i=new Nt(this,this._container,this._engine,t,e);return this.array.push(i),Promise.resolve(i)}draw(t){for(const e of this.array)e.draw(t)}handleClickMode(t){const e=this.absorbers,i=this.interactivityAbsorbers;if(t===X.absorber){const n=E(i),o=n??E(e),a=this._container.interactivity.mouse.clickPosition;this.addAbsorber(o,a)}}async init(){this.absorbers=this._container.actualOptions.absorbers,this.interactivityAbsorbers=this._container.actualOptions.interactivity.modes.absorbers;const t=z(this.absorbers,async e=>{await this.addAbsorber(e)});t instanceof Array?await Promise.all(t):await t}particleUpdate(t){for(const e of this.array)if(e.attract(t),t.destroyed)break}removeAbsorber(t){const e=this.array.indexOf(t);e>=lt&&this.array.splice(e,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}}class ee{constructor(t){this.id="absorbers",this._engine=t}async getPlugin(t){return Promise.resolve(new te(t,this._engine))}loadOptions(t,e){var i,n;!this.needsPlugin(t)&&!this.needsPlugin(e)||(e!=null&&e.absorbers&&(t.absorbers=z(e.absorbers,o=>{const a=new H;return a.load(o),a})),t.interactivity.modes.absorbers=z((n=(i=e==null?void 0:e.interactivity)==null?void 0:i.modes)==null?void 0:n.absorbers,o=>{const a=new H;return a.load(o),a}))}needsPlugin(t){var i,n,o;if(!t)return!1;const e=t.absorbers;return k(e)?!!e.length:e?!0:!!((o=(n=(i=t.interactivity)==null?void 0:i.events)==null?void 0:n.onClick)!=null&&o.mode&&q(X.absorber,t.interactivity.events.onClick.mode))}}async function ie(s,t=!0){v(s,"3.7.1"),await s.addPlugin(new ee(s),t)}class se{load(t){y(t)||(t.bottom!==void 0&&(this.bottom=p(t.bottom)),t.left!==void 0&&(this.left=p(t.left)),t.right!==void 0&&(this.right=p(t.right)),t.top!==void 0&&(this.top=p(t.top)))}}var j;(function(s){s.none="none",s.split="split"})(j||(j={}));class ne extends Z{constructor(){super(),this.value=3}}class oe extends Z{constructor(){super(),this.value={min:4,max:9}}}class re{constructor(){this.count=1,this.factor=new ne,this.rate=new oe,this.sizeOffset=!0}load(t){y(t)||(t.color!==void 0&&(this.color=F.create(this.color,t.color)),t.count!==void 0&&(this.count=t.count),this.factor.load(t.factor),this.rate.load(t.rate),this.particles=z(t.particles,e=>M({},e)),t.sizeOffset!==void 0&&(this.sizeOffset=t.sizeOffset),t.colorOffset&&(this.colorOffset=this.colorOffset??{},t.colorOffset.h!==void 0&&(this.colorOffset.h=t.colorOffset.h),t.colorOffset.s!==void 0&&(this.colorOffset.s=t.colorOffset.s),t.colorOffset.l!==void 0&&(this.colorOffset.l=t.colorOffset.l)))}}class ae{constructor(){this.bounds=new se,this.mode=j.none,this.split=new re}load(t){y(t)||(t.mode&&(this.mode=t.mode),t.bounds&&this.bounds.load(t.bounds),this.split.load(t.split))}}const U=0,le=.5,he=0,ce=1,de=500,ue=0;function fe(s,t,e,i){const n=e.options.destroy;if(!n)return;const o=n.split,a=It(s,t,e.options),l=u(o.factor.value),r=e.getFillColor();o.color?a.color.load(o.color):o.colorOffset&&r?a.color.load({value:{hsl:{h:r.h+u(o.colorOffset.h??U),s:r.s+u(o.colorOffset.s??U),l:r.l+u(o.colorOffset.l??U)}}}):a.color.load({value:{hsl:e.getFillColor()}}),a.move.load({center:{x:e.position.x,y:e.position.y,mode:W.precise}}),B(a.size.value)?a.size.value/=l:(a.size.value.min/=l,a.size.value.max/=l),a.load(i);const h=o.sizeOffset?p(-e.size.value,e.size.value):U,d={x:e.position.x+G(h),y:e.position.y+G(h)};return t.particles.addParticle(d,a,e.group,c=>c.size.value<le?!1:(c.velocity.length=G(p(e.velocity.length,c.velocity.length)),c.splitCount=(e.splitCount??he)+ce,c.unbreakable=!0,setTimeout(()=>{c.unbreakable=!1},de),!0))}function pe(s,t,e){const i=e.options.destroy;if(!i)return;const n=i.split;if(n.count>=ue&&(e.splitCount===void 0||e.splitCount++>n.count))return;const o=u(n.rate.value),a=E(n.particles);for(let l=0;l<o;l++)fe(s,t,e,a)}class me{constructor(t,e){this.container=e,this.engine=t}init(t){const e=this.container,i=t.options,n=i.destroy;if(!n)return;t.splitCount=0;const o=n.bounds;t.destroyBounds||(t.destroyBounds={});const{bottom:a,left:l,right:r,top:h}=o,{destroyBounds:d}=t,c=e.canvas.size;a&&(d.bottom=u(a)*c.height/A),l&&(d.left=u(l)*c.width/A),r&&(d.right=u(r)*c.width/A),h&&(d.top=u(h)*c.height/A)}isEnabled(t){return!t.destroyed}loadOptions(t,...e){t.destroy||(t.destroy=new ae);for(const i of e)t.destroy.load(i==null?void 0:i.destroy)}particleDestroyed(t,e){if(e)return;const i=t.options.destroy;i&&i.mode===j.split&&pe(this.engine,this.container,t)}update(t){if(!this.isEnabled(t))return;const e=t.getPosition(),i=t.destroyBounds;i&&(i.bottom!==void 0&&e.y>=i.bottom||i.left!==void 0&&e.x<=i.left||i.right!==void 0&&e.x>=i.right||i.top!==void 0&&e.y<=i.top)&&t.destroy()}}async function ye(s,t=!0){v(s,"3.7.1"),await s.addParticleUpdater("destroy",e=>Promise.resolve(new me(s,e)),t)}class be{constructor(){this.wait=!1}load(t){y(t)||(t.count!==void 0&&(this.count=t.count),t.delay!==void 0&&(this.delay=p(t.delay)),t.duration!==void 0&&(this.duration=p(t.duration)),t.wait!==void 0&&(this.wait=t.wait))}}class we{constructor(){this.quantity=1,this.delay=.1}load(t){y(t)||(t.quantity!==void 0&&(this.quantity=p(t.quantity)),t.delay!==void 0&&(this.delay=p(t.delay)))}}class ge{constructor(){this.color=!1,this.opacity=!1}load(t){y(t)||(t.color!==void 0&&(this.color=t.color),t.opacity!==void 0&&(this.opacity=t.opacity))}}class ve{constructor(){this.options={},this.replace=new ge,this.type="square"}load(t){y(t)||(t.options!==void 0&&(this.options=M({},t.options??{})),this.replace.load(t.replace),t.type!==void 0&&(this.type=t.type))}}class xt{constructor(){this.mode=W.percent,this.height=0,this.width=0}load(t){y(t)||(t.mode!==void 0&&(this.mode=t.mode),t.height!==void 0&&(this.height=t.height),t.width!==void 0&&(this.width=t.width))}}class P{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new be,this.rate=new we,this.shape=new ve,this.startCount=0}load(t){y(t)||(t.autoPlay!==void 0&&(this.autoPlay=t.autoPlay),t.size!==void 0&&(this.size||(this.size=new xt),this.size.load(t.size)),t.direction!==void 0&&(this.direction=t.direction),this.domId=t.domId,t.fill!==void 0&&(this.fill=t.fill),this.life.load(t.life),this.name=t.name,this.particles=z(t.particles,e=>M({},e)),this.rate.load(t.rate),this.shape.load(t.shape),t.position!==void 0&&(this.position={},t.position.x!==void 0&&(this.position.x=p(t.position.x)),t.position.y!==void 0&&(this.position.y=p(t.position.y))),t.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new Tt),this.spawnColor.load(t.spawnColor)),t.startCount!==void 0&&(this.startCount=t.startCount))}}var Y;(function(s){s.emitter="emitter"})(Y||(Y={}));const ht=.5,ct=0,V=0,dt=0,_e=0,Pe=-1,xe=1;function ut(s,t){s.color?s.color.value=t:s.color={value:t}}class ze{constructor(t,e,i,n,o){var h,d;this.emitters=e,this.container=i,this._destroy=()=>{var c,f;(c=this._mutationObserver)==null||c.disconnect(),this._mutationObserver=void 0,(f=this._resizeObserver)==null||f.disconnect(),this._resizeObserver=void 0,this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})},this._prepareToDie=()=>{var m;if(this._paused)return;const c=((m=this.options.life)==null?void 0:m.duration)!==void 0?u(this.options.life.duration):void 0;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&c!==void 0&&c>0&&(this._duration=c*O)},this._setColorAnimation=(c,f,b,m=xe)=>{const g=this.container;if(!c.enable)return f;const S=G(c.offset),J=u(this.options.rate.delay),K=J*O/g.retina.reduceFactor,Q=0,Dt=u(c.speed??Q);return(f+Dt*g.fpsLimit/K+S*m)%b},this._engine=t,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=o,n instanceof P?this.options=n:(this.options=new P,this.options.load(n)),this._spawnDelay=u(this.options.life.delay??ct)*O/this.container.retina.reduceFactor,this.position=this._initialPosition??this._calcPosition(),this.name=this.options.name,this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let a=M({},this.options.particles);if(a??(a={}),a.move??(a.move={}),(h=a.move).direction??(h.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=et(this._engine,this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=a,this._size=this._calcSize(),this.size=st(this._size,this.container.canvas.size),this._lifeCount=this.options.life.count??Pe,this._immortal=this._lifeCount<=V,this.options.domId){const c=document.getElementById(this.options.domId);c&&(this._mutationObserver=new MutationObserver(()=>{this.resize()}),this._resizeObserver=new ResizeObserver(()=>{this.resize()}),this._mutationObserver.observe(c,{attributes:!0,attributeFilter:["style","width","height"]}),this._resizeObserver.observe(c))}const l=this.options.shape,r=(d=this._engine.emitterShapeManager)==null?void 0:d.getShapeGenerator(l.type);r&&(this._shape=r.generate(this.position,this.size,this.fill,l.options)),this._engine.dispatchEvent("emitterCreated",{container:i,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}async init(){var t;await((t=this._shape)==null?void 0:t.init())}pause(){this._paused||delete this._emitDelay}play(){if(!this._paused&&this.container.retina.reduceFactor&&(this._lifeCount>V||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=(this._spawnDelay??dt))){if(this._emitDelay===void 0){const t=u(this.options.rate.delay);this._emitDelay=t*O/this.container.retina.reduceFactor}(this._lifeCount>V||this._immortal)&&this._prepareToDie()}}resize(){var e;const t=this._initialPosition;this.position=t&&Pt(t,this.container.canvas.size,_.origin)?t:this._calcPosition(),this._size=this._calcSize(),this.size=st(this._size,this.container.canvas.size),(e=this._shape)==null||e.resize(this.position,this.size)}update(t){var e;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=this._spawnDelay??dt,this._currentEmitDelay=this._emitDelay??_e),this._startParticlesAdded||(this._startParticlesAdded=!0,this._emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=t.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>V||this._immortal?(this.position=this._calcPosition(),(e=this._shape)==null||e.resize(this.position,this.size),this._spawnDelay=u(this.options.life.delay??ct)*O/this.container.retina.reduceFactor):this._destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=t.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=t.value,this._currentEmitDelay>=this._emitDelay&&(this._emit(),this._currentEmitDelay-=this._emitDelay)))}_calcPosition(){if(this.options.domId){const t=document.getElementById(this.options.domId);if(t){const e=t.getBoundingClientRect(),i=this.container.retina.pixelRatio;return{x:(e.x+e.width*ht)*i,y:(e.y+e.height*ht)*i}}}return _t({size:this.container.canvas.size,position:this.options.position})}_calcSize(){const t=this.container;if(this.options.domId){const e=document.getElementById(this.options.domId);if(e){const i=e.getBoundingClientRect();return{width:i.width*t.retina.pixelRatio,height:i.height*t.retina.pixelRatio,mode:W.precise}}}return this.options.size??(()=>{const e=new xt;return e.load({height:0,mode:W.percent,width:0}),e})()}_emit(){if(this._paused)return;const t=u(this.options.rate.quantity);this._emitParticles(t)}_emitParticles(t){var i;const e=E(this._particlesOptions);for(let n=0;n<t;n++){const o=M({},e);if(this.spawnColor){const r=(i=this.options.spawnColor)==null?void 0:i.animation;if(r){const h={h:360,s:100,l:100},d=3.6;this.spawnColor.h=this._setColorAnimation(r.h,this.spawnColor.h,h.h,d),this.spawnColor.s=this._setColorAnimation(r.s,this.spawnColor.s,h.s),this.spawnColor.l=this._setColorAnimation(r.l,this.spawnColor.l,h.l)}ut(o,this.spawnColor)}const a=this.options.shape;let l=this.position;if(this._shape){const r=this._shape.randomPosition();if(r){l=r.position;const h=a.replace;h.color&&r.color&&ut(o,r.color),h.opacity&&(o.opacity?o.opacity.value=r.opacity:o.opacity={value:r.opacity})}else l=null}l&&this.container.particles.addParticle(l,o)}}}class Oe{constructor(t,e){this.container=e,this._engine=t,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]};const i=0;e.getEmitter=n=>n===void 0||B(n)?this.array[n??i]:this.array.find(o=>o.name===n),e.addEmitter=async(n,o)=>this.addEmitter(n,o),e.removeEmitter=n=>{const o=e.getEmitter(n);o&&this.removeEmitter(o)},e.playEmitter=n=>{const o=e.getEmitter(n);o&&o.externalPlay()},e.pauseEmitter=n=>{const o=e.getEmitter(n);o&&o.externalPause()}}async addEmitter(t,e){const i=new P;i.load(t);const n=new ze(this._engine,this,this.container,i,e);return await n.init(),this.array.push(n),n}handleClickMode(t){const e=this.emitters,i=this.interactivityEmitters;if(t!==Y.emitter)return;let n;if(i&&k(i.value))if(i.value.length>0&&i.random.enable){n=[];const r=[];for(let h=0;h<i.random.count;h++){const d=At(i.value);if(r.includes(d)&&r.length<i.value.length){h--;continue}r.push(d),n.push(Ft(i.value,d))}}else n=i.value;else n=i==null?void 0:i.value;const o=n??e,a=this.container.interactivity.mouse.clickPosition;z(o,async l=>{await this.addEmitter(l,a)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(k(this.emitters))for(const t of this.emitters)await this.addEmitter(t);else await this.addEmitter(this.emitters)}pause(){for(const t of this.array)t.pause()}play(){for(const t of this.array)t.play()}removeEmitter(t){const e=this.array.indexOf(t);e>=0&&this.array.splice(e,1)}resize(){for(const t of this.array)t.resize()}stop(){this.array=[]}update(t){for(const e of this.array)e.update(t)}}class Ce{constructor(t){this._engine=t,this.id="emitters"}getPlugin(t){return Promise.resolve(new Oe(this._engine,t))}loadOptions(t,e){var n,o;if(!this.needsPlugin(t)&&!this.needsPlugin(e))return;e!=null&&e.emitters&&(t.emitters=z(e.emitters,a=>{const l=new P;return l.load(a),l}));const i=(o=(n=e==null?void 0:e.interactivity)==null?void 0:n.modes)==null?void 0:o.emitters;if(i)if(k(i))t.interactivity.modes.emitters={random:{count:1,enable:!0},value:i.map(a=>{const l=new P;return l.load(a),l})};else{const a=i;if(a.value!==void 0)if(k(a.value))t.interactivity.modes.emitters={random:{count:a.random.count??1,enable:a.random.enable??!1},value:a.value.map(r=>{const h=new P;return h.load(r),h})};else{const r=new P;r.load(a.value),t.interactivity.modes.emitters={random:{count:a.random.count??1,enable:a.random.enable??!1},value:r}}else(t.interactivity.modes.emitters={random:{count:1,enable:!1},value:new P}).value.load(i)}}needsPlugin(t){var i,n,o;if(!t)return!1;const e=t.emitters;return k(e)&&!!e.length||e!==void 0||!!((o=(n=(i=t.interactivity)==null?void 0:i.events)==null?void 0:n.onClick)!=null&&o.mode)&&q(Y.emitter,t.interactivity.events.onClick.mode)}}const N=new Map;class Se{constructor(t){this._engine=t}addShapeGenerator(t,e){this.getShapeGenerator(t)||N.set(t,e)}getShapeGenerator(t){return N.get(t)}getSupportedShapeGenerators(){return N.keys()}}class zt{constructor(t,e,i,n){this.position=t,this.size=e,this.fill=i,this.options=n}resize(t,e){this.position=t,this.size=e}}async function De(s,t=!0){v(s,"3.7.1"),s.emitterShapeManager||(s.emitterShapeManager=new Se(s)),s.addEmitterShapeGenerator||(s.addEmitterShapeGenerator=(i,n)=>{var o;(o=s.emitterShapeManager)==null||o.addShapeGenerator(i,n)});const e=new Ce(s);await s.addPlugin(e,t)}const I=.25,tt=2,ke=Math.PI*tt,ft=2,pt=.5;class Ee extends zt{constructor(t,e,i,n){super(t,e,i,n)}async init(){}randomPosition(){const t=this.size,e=this.fill,i=this.position,n=(c,f)=>{const b=w()*I,m=Math.atan(f/c*Math.tan(ke*b)),g=w();return g<I?m:g<tt*I?Math.PI-m:g<tt*I+I?Math.PI+m:-m},o=(c,f,b)=>c*f/Math.sqrt((f*Math.cos(b))**ft+(c*Math.sin(b))**ft),[a,l]=[t.width*pt,t.height*pt],r=n(a,l),h=o(a,l,r),d=e?h*Math.sqrt(w()):h;return{position:{x:i.x+d*Math.cos(r),y:i.y+d*Math.sin(r)}}}}class Me{generate(t,e,i,n){return new Ee(t,e,i,n)}}async function Re(s,t=!0){var i;const e=s;v(e,"3.7.1"),(i=e.addEmitterShapeGenerator)==null||i.call(e,"circle",new Me),await e.refresh(t)}const mt=.5,Ie=4,Te=2;var D;(function(s){s[s.TopLeft=0]="TopLeft",s[s.TopRight=1]="TopRight",s[s.BottomRight=2]="BottomRight",s[s.BottomLeft=3]="BottomLeft"})(D||(D={}));function yt(s,t){return s+t*(w()-$)}class Ae extends zt{constructor(t,e,i,n){super(t,e,i,n)}async init(){}randomPosition(){const t=this.fill,e=this.position,i=this.size;if(t)return{position:{x:yt(e.x,i.width),y:yt(e.y,i.height)}};{const n=i.width*mt,o=i.height*mt,a=Math.floor(w()*Ie),l=(w()-$)*Te;switch(a){case D.TopLeft:return{position:{x:e.x+l*n,y:e.y-o}};case D.TopRight:return{position:{x:e.x-n,y:e.y+l*o}};case D.BottomRight:return{position:{x:e.x+l*n,y:e.y+o}};case D.BottomLeft:default:return{position:{x:e.x+n,y:e.y+l*o}}}}}}class Fe{generate(t,e,i,n){return new Ae(t,e,i,n)}}async function qe(s,t=!0){var i;const e=s;v(e,"3.7.1"),(i=e.addEmitterShapeGenerator)==null||i.call(e,"square",new Fe),await e.refresh(t)}class $e{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(t){y(t)||(t.delay!==void 0&&(this.delay=t.delay),t.quantity!==void 0&&(this.quantity=t.quantity),t.particles!==void 0&&(this.particles=M({},t.particles)),t.pauseOnStop!==void 0&&(this.pauseOnStop=t.pauseOnStop))}}const bt="trail";class Be extends Vt{constructor(t){super(t),this._delay=0}clear(){}init(){}interact(t){var h,d,c,f;const e=this.container,{interactivity:i}=e;if(!e.retina.reduceFactor)return;const n=e.actualOptions,o=n.interactivity.modes.trail;if(!o)return;const a=o.delay*O/this.container.retina.reduceFactor;if(this._delay<a&&(this._delay+=t.value),this._delay<a)return;const l=!(o.pauseOnStop&&(i.mouse.position===this._lastPosition||((h=i.mouse.position)==null?void 0:h.x)===((d=this._lastPosition)==null?void 0:d.x)&&((c=i.mouse.position)==null?void 0:c.y)===((f=this._lastPosition)==null?void 0:f.y))),r=e.interactivity.mouse.position;r?this._lastPosition={...r}:delete this._lastPosition,l&&e.particles.push(o.quantity,e.interactivity.mouse,o.particles),this._delay-=a}isEnabled(t){const e=this.container,i=e.actualOptions,n=e.interactivity.mouse,o=((t==null?void 0:t.interactivity)??i.interactivity).events;return n.clicking&&n.inside&&!!n.position&&q(bt,o.onClick.mode)||n.inside&&!!n.position&&q(bt,o.onHover.mode)}loadModeOptions(t,...e){t.trail||(t.trail=new $e);for(const i of e)t.trail.load(i==null?void 0:i.trail)}reset(){}}async function Le(s,t=!0){v(s,"3.7.1"),await s.addInteractor("externalTrail",e=>Promise.resolve(new Be(e)),t)}var C;(function(s){s.both="both",s.horizontal="horizontal",s.vertical="vertical"})(C||(C={}));const Ue=2,Ot=Math.PI*Ue,Ve=360;function Ge(s,t){const e=t.options.roll;if(!(e!=null&&e.enable)){t.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0};return}if(t.roll={enable:e.enable,horizontal:e.mode===C.horizontal||e.mode===C.both,vertical:e.mode===C.vertical||e.mode===C.both,angle:w()*Ot,speed:u(e.speed)/Ve},e.backColor)t.backColor=et(s,e.backColor);else if(e.darken.enable&&e.enlighten.enable){const i=w()>=$?R.darken:R.enlighten;t.roll.alter={type:i,value:u(i===R.darken?e.darken.value:e.enlighten.value)}}else e.darken.enable?t.roll.alter={type:R.darken,value:u(e.darken.value)}:e.enlighten.enable&&(t.roll.alter={type:R.enlighten,value:u(e.enlighten.value)})}function We(s,t){const e=s.options.roll,i=s.roll;if(!i||!(e!=null&&e.enable))return;const n=i.speed*t.factor,o=Ot;i.angle+=n,i.angle>o&&(i.angle-=o)}class wt{constructor(){this.enable=!1,this.value=0}load(t){y(t)||(t.enable!==void 0&&(this.enable=t.enable),t.value!==void 0&&(this.value=p(t.value)))}}class He{constructor(){this.darken=new wt,this.enable=!1,this.enlighten=new wt,this.mode=C.vertical,this.speed=25}load(t){y(t)||(t.backColor!==void 0&&(this.backColor=F.create(this.backColor,t.backColor)),this.darken.load(t.darken),t.enable!==void 0&&(this.enable=t.enable),this.enlighten.load(t.enlighten),t.mode!==void 0&&(this.mode=t.mode),t.speed!==void 0&&(this.speed=p(t.speed)))}}class Xe{constructor(t){this._engine=t}getTransformValues(t){var o;const e=((o=t.roll)==null?void 0:o.enable)&&t.roll,i=e&&e.horizontal,n=e&&e.vertical;return{a:i?Math.cos(e.angle):void 0,d:n?Math.sin(e.angle):void 0}}init(t){Ge(this._engine,t)}isEnabled(t){const e=t.options.roll;return!t.destroyed&&!t.spawning&&!!(e!=null&&e.enable)}loadOptions(t,...e){t.roll||(t.roll=new He);for(const i of e)t.roll.load(i==null?void 0:i.roll)}update(t,e){this.isEnabled(t)&&We(t,e)}}async function je(s,t=!0){v(s,"3.7.1"),await s.addParticleUpdater("roll",()=>Promise.resolve(new Xe(s)),t)}const Ct=2,gt=.5;function Ye(s){const{context:t,particle:e,radius:i,opacity:n}=s,o=e.shapeData;if(!o)return;const a=o.value;if(a===void 0)return;e.text===void 0&&(e.text=E(a,e.randomIndexData));const l=e.text,r=o.style??"",h=o.weight??"400",d=Math.round(i)*Ct,c=o.font??"Verdana",f=e.shapeFill,b=l==null?void 0:l.split(`
`);if(b){t.font=`${r} ${h} ${d}px "${c}"`,t.globalAlpha=n;for(let m=0;m<b.length;m++)Ze(t,b[m],i,n,m,f);t.globalAlpha=1}}function Ze(s,t,e,i,n,o){const a=t.length*e*gt,l={x:-a,y:e*gt},r=e*Ct;o?s.fillText(t,l.x,l.y+r*n):s.strokeText(t,l.x,l.y+r*n)}class Je{constructor(){this.validTypes=["text","character","char","multiline-text"]}draw(t){Ye(t)}async init(t){const e=t.actualOptions,{validTypes:i}=this;if(i.find(n=>q(n,e.particles.shape.type))){const n=i.map(a=>e.particles.shape.options[a]).find(a=>!!a),o=[];z(n,a=>{o.push(qt(a.font,a.weight))}),await Promise.all(o)}}particleInit(t,e){if(!e.shape||!this.validTypes.includes(e.shape))return;const i=e.shapeData;if(i===void 0)return;const n=i.value;n!==void 0&&(e.text=E(n,e.randomIndexData))}}async function Ke(s,t=!0){v(s,"3.7.1"),await s.addShape(new Je,t)}var x;(function(s){s.clockwise="clockwise",s.counterClockwise="counter-clockwise",s.random="random"})(x||(x={}));class Qe{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(t){y(t)||(t.enable!==void 0&&(this.enable=t.enable),t.speed!==void 0&&(this.speed=p(t.speed)),t.decay!==void 0&&(this.decay=p(t.decay)),t.sync!==void 0&&(this.sync=t.sync))}}class Ne extends Z{constructor(){super(),this.animation=new Qe,this.direction=x.clockwise,this.enable=!1,this.value=0}load(t){super.load(t),!y(t)&&(this.animation.load(t.animation),t.direction!==void 0&&(this.direction=t.direction),t.enable!==void 0&&(this.enable=t.enable))}}const T=1,St=2,ti=Math.PI*St,ei=360;class ii{constructor(t){this.container=t}getTransformValues(t){var i;const e=((i=t.tilt)==null?void 0:i.enable)&&t.tilt;return{b:e?Math.cos(e.value)*e.cosDirection:void 0,c:e?Math.sin(e.value)*e.sinDirection:void 0}}init(t){var o;const e=t.options.tilt;if(!e)return;t.tilt={enable:e.enable,value:$t(u(e.value)),sinDirection:w()>=$?T:-T,cosDirection:w()>=$?T:-T,min:0,max:ti};let i=e.direction;switch(i===x.random&&(i=Math.floor(w()*St)>0?x.counterClockwise:x.clockwise),i){case x.counterClockwise:case"counterClockwise":t.tilt.status=nt.decreasing;break;case x.clockwise:t.tilt.status=nt.increasing;break}const n=(o=t.options.tilt)==null?void 0:o.animation;n!=null&&n.enable&&(t.tilt.decay=T-u(n.decay),t.tilt.velocity=u(n.speed)/ei*this.container.retina.reduceFactor,n.sync||(t.tilt.velocity*=w()))}isEnabled(t){var i;const e=(i=t.options.tilt)==null?void 0:i.animation;return!t.destroyed&&!t.spawning&&!!(e!=null&&e.enable)}loadOptions(t,...e){t.tilt||(t.tilt=new Ne);for(const i of e)t.tilt.load(i==null?void 0:i.tilt)}async update(t,e){!this.isEnabled(t)||!t.tilt||(Bt(t,t.tilt,!1,Lt.none,e),await Promise.resolve())}}async function si(s,t=!0){v(s,"3.7.1"),await s.addParticleUpdater("tilt",e=>Promise.resolve(new ii(e)),t)}class vt{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(t){y(t)||(t.color!==void 0&&(this.color=F.create(this.color,t.color)),t.enable!==void 0&&(this.enable=t.enable),t.frequency!==void 0&&(this.frequency=t.frequency),t.opacity!==void 0&&(this.opacity=p(t.opacity)))}}class ni{constructor(){this.lines=new vt,this.particles=new vt}load(t){y(t)||(this.lines.load(t.lines),this.particles.load(t.particles))}}class oi{constructor(t){this._engine=t}getColorStyles(t,e,i,n){const o=t.options,a=o.twinkle;if(!a)return{};const l=a.particles,r=l.enable&&w()<l.frequency,h=t.options.zIndex,d=1,c=(d-t.zIndexFactor)**h.opacityRate,f=r?u(l.opacity)*c:n,b=et(this._engine,l.color),m=b?Ut(b,f):void 0,g={},S=r&&m;return g.fill=S?m:void 0,g.stroke=S?m:void 0,g}async init(){await Promise.resolve()}isEnabled(t){const e=t.options,i=e.twinkle;return i?i.particles.enable:!1}loadOptions(t,...e){t.twinkle||(t.twinkle=new ni);for(const i of e)t.twinkle.load(i==null?void 0:i.twinkle)}async update(){await Promise.resolve()}}async function ri(s,t=!0){v(s,"3.7.1"),await s.addParticleUpdater("twinkle",()=>Promise.resolve(new oi(s)),t)}class ai{constructor(){this.angle=50,this.move=10}load(t){y(t)||(t.angle!==void 0&&(this.angle=p(t.angle)),t.move!==void 0&&(this.move=p(t.move)))}}class li{constructor(){this.distance=5,this.enable=!1,this.speed=new ai}load(t){if(!y(t)&&(t.distance!==void 0&&(this.distance=p(t.distance)),t.enable!==void 0&&(this.enable=t.enable),t.speed!==void 0))if(B(t.speed))this.speed.load({angle:t.speed});else{const e=t.speed;e.min!==void 0?this.speed.load({angle:e}):this.speed.load(t.speed)}}}const hi=0,ci=2,di=Math.PI*ci,ui=60;function fi(s,t){const{wobble:e}=s.options,{wobble:i}=s;if(!(e!=null&&e.enable)||!i)return;const n=i.angleSpeed*t.factor,o=i.moveSpeed*t.factor,a=o*((s.retina.wobbleDistance??hi)*t.factor)/(O/ui),l=di,{position:r}=s;i.angle+=n,i.angle>l&&(i.angle-=l),r.x+=a*Math.cos(i.angle),r.y+=a*Math.abs(Math.sin(i.angle))}const pi=2,mi=Math.PI*pi,yi=360,bi=10,wi=0;class gi{constructor(t){this.container=t}init(t){const e=t.options.wobble;e!=null&&e.enable?t.wobble={angle:w()*mi,angleSpeed:u(e.speed.angle)/yi,moveSpeed:u(e.speed.move)/bi}:t.wobble={angle:0,angleSpeed:0,moveSpeed:0},t.retina.wobbleDistance=u((e==null?void 0:e.distance)??wi)*this.container.retina.pixelRatio}isEnabled(t){var e;return!t.destroyed&&!t.spawning&&!!((e=t.options.wobble)!=null&&e.enable)}loadOptions(t,...e){t.wobble||(t.wobble=new li);for(const i of e)t.wobble.load(i==null?void 0:i.wobble)}update(t,e){this.isEnabled(t)&&fi(t,e)}}async function vi(s,t=!0){v(s,"3.7.1"),await s.addParticleUpdater("wobble",e=>Promise.resolve(new gi(e)),t)}async function zi(s,t=!0){v(s,"3.7.1"),await ye(s,!1),await je(s,!1),await si(s,!1),await ri(s,!1),await vi(s,!1),await Ke(s,!1),await Le(s,!1),await ie(s,!1),await De(s,!1),await Re(s,!1),await qe(s,!1),await Gt(s,t)}export{zi as loadFull};
